
/* footer.js 923366 */ YUI.add("media-footer",function(a){a.namespace("Media");a.Media.Footer=function(b){var p=arguments;var k,g,d,f=false;var e=p[1]?p[1]:{};e.autoSetup=typeof e.autoSetup!=="undefined"?e.autoSetup:true;e.event=typeof e.event!=="undefined"?e.event:"domready";e.timeout=typeof e.timeout!=="undefined"?e.timeout:100;e.footerInfoSelector=typeof e.footerInfoSelector!=="undefined"?e.footerInfoSelector:".yom-footer-info";e.deviceLinkSelector=typeof e.deviceLinkSelector!=="undefined"?e.deviceLinkSelector:".device-specific-link";e.currentDeviceType=typeof e.currentDeviceType!=="undefined"?e.currentDeviceType:"full";e.enableYwaTracking=typeof e.enableYwaTracking!=="undefined"?parseInt(e.enableYwaTracking,10):0;e.projectId=typeof e.projectId!=="undefined"?e.projectId:"";function c(){if(e.autoSetup===true){switch(e.event){case"available":b.on(e.event,function(r){l.setup()},e.footerInfoSelector);break;case"contentready":b.on(e.event,function(r){l.setup()},e.footerInfoSelector);break;case"domready":b.on(e.event,function(r){l.setup()});break;default:b.on(e.event,function(r){l.setup()})}}}function m(){if(h()){if(e.currentDeviceType==="full"&&(b.Cookie.getSub("YMD","original_device")!=="full")){o("unset_cookie")}else{o("set_cookie")}}else{if(e.currentDeviceType=="full"){}else{o("set_cookie")}}}function o(r){k=b.one(e.footerInfoSelector);if(k){g=k.one(e.deviceLinkSelector);j(r)}}function j(r){if(g&&typeof q!=="undefined"&&n!=="undefined"){if(r==="set_cookie"){g.on("click",q)}if(r==="unset_cookie"){g.on("click",n)}}}var q=function(r){r.preventDefault();b.Cookie.setSub("YMD","view_desktop","1",{path:"/"});b.Cookie.setSub("YMD","original_device",e.currentDeviceType,{path:"/"});if(e.enableYwaTracking===1&&typeof YWA!="undefined"&&e.projectId!=""){b.Media.YWA.init('"projectId": "'+e.projectId+'", "action": "22"')}d=b.later(e.timeout,this,i,["1"],true)};var n=function(r){r.preventDefault();b.Cookie.setSub("YMD","view_desktop","0",{path:"/"});d=b.later(e.timeout,this,i,["0"],true)};var i=function(r){if(b.Cookie.getSub("YMD","view_desktop")===r){d.cancel();if(window.location.href){window.location.href=window.location.href}else{if(window.history){window.history(0)}else{window.location.reload()}}}};var h=function(){var r=false;if(typeof b.Cookie.getSub("YMD","view_desktop")!=="undefined"&&typeof b.Cookie.getSub("YMD","original_device")!=="undefined"){r=true}return r};var l={setup:function(){if(f===false){m();f=true}}};c();return l}},"1.0.0",{requires:["node-base","event-base","cookie"]});