/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("array-extras",function(e,t){var n=e.Array,r=e.Lang,i=Array.prototype;n.lastIndexOf=r._isNative(i.lastIndexOf)?function(e,t,n){return n||n===0?e.lastIndexOf(t,n):e.lastIndexOf(t)}:function(e,t,n){var r=e.length,i=r-1;if(n||n===0)i=Math.min(n<0?r+n:n,r);if(i>-1&&r>0)for(;i>-1;--i)if(i in e&&e[i]===t)return i;return-1},n.unique=function(e,t){var n=0,r=e.length,i=[],s,o,u,a;e:for(;n<r;n++){a=e[n];for(s=0,u=i.length;s<u;s++){o=i[s];if(t){if(t.call(e,a,o,n,e))continue e}else if(a===o)continue e}i.push(a)}return i},n.filter=r._isNative(i.filter)?function(e,t,n){return i.filter.call(e,t,n)}:function(e,t,n){var r=0,i=e.length,s=[],o;for(;r<i;++r)r in e&&(o=e[r],t.call(n,o,r,e)&&s.push(o));return s},n.reject=function(e,t,r){return n.filter(e,function(e,n,i){return!t.call(r,e,n,i)})},n.every=r._isNative(i.every)?function(e,t,n){return i.every.call(e,t,n)}:function(e,t,n){for(var r=0,i=e.length;r<i;++r)if(r in e&&!t.call(n,e[r],r,e))return!1;return!0},n.map=r._isNative(i.map)?function(e,t,n){return i.map.call(e,t,n)}:function(e,t,n){var r=0,s=e.length,o=i.concat.call(e);for(;r<s;++r)r in e&&(o[r]=t.call(n,e[r],r,e));return o},n.reduce=r._isNative(i.reduce)?function(e,t,n,r){return i.reduce.call(e,function(e,t,i,s){return n.call(r,e,t,i,s)},t)}:function(e,t,n,r){var i=0,s=e.length,o=t;for(;i<s;++i)i in e&&(o=n.call(r,o,e[i],i,e));return o},n.find=function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r,e))return e[r];return null},n.grep=function(e,t){return n.filter(e,function(e,n){return t.test(e)})},n.partition=function(e,t,r){var i={matches:[],rejects:[]};return n.each(e,function(n,s){var u=t.call(r,n,s,e)?i.matches:i.rejects;u.push(n)}),i},n.zip=function(e,t){var r=[];return n.each(e,function(e,n){r.push([e,t[n]])}),r},n.flatten=function(e){var t=[],i,s,o;if(!e)return t;for(i=0,s=e.length;i<s;++i)o=e[i],r.isArray(o)?t.push.apply(t,n.flatten(o)):t.push(o);return t}},"3.9.1",{requires:["yui-base"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("history-base",function(e,t){function p(){this._init.apply(this,arguments)}function d(e){return n.type(e)==="object"}var n=e.Lang,r=e.Object,i=YUI.namespace("Env.History"),s=e.Array,o=e.config.doc,u=o.documentMode,a=e.config.win,f={merge:!0},l="change",c="add",h="replace";e.augment(p,e.EventTarget,null,null,{emitFacade:!0,prefix:"history",preventable:!1,queueable:!0}),i._state||(i._state={}),p.NAME="historyBase",p.SRC_ADD=c,p.SRC_REPLACE=h,p.html5=!!(a.history&&a.history.pushState&&a.history.replaceState&&("onpopstate"in a||e.UA.gecko>=2)&&(!e.UA.android||e.UA.android>=2.4)),p.nativeHashChange=("onhashchange"in a||"onhashchange"in o)&&(!u||u>7),e.mix(p.prototype,{_init:function(e){var t;e=this._config=e||{},this.force=!!e.force,t=this._initialState=this._initialState||e.initialState||null,this.publish(l,{broadcast:2,defaultFn:this._defChangeFn}),t&&this.replace(t)},add:function(){var e=s(arguments,0,!0);return e.unshift(c),this._change.apply(this,e)},addValue:function(e,t,n){var r={};return r[e]=t,this._change(c,r,n)},get:function(t){var n=i._state,s=d(n);return t?s&&r.owns(n,t)?n[t]:undefined:s?e.mix({},n,!0):n},replace:function(){var e=s(arguments,0,!0);return e.unshift(h),this._change.apply(this,e)},replaceValue:function(e,t,n){var r={};return r[e]=t,this._change(h,r,n)},_change:function(t,n,r){return r=r?e.merge(f,r):f,r.merge&&d(n)&&d(i._state)&&(n=e.merge(i._state,n)),this._resolveChanges(t,n,r),this},_fireEvents:function(e,t,n){this.fire(l,{_options:n,changed:t.changed,newVal:t.newState,prevVal:t.prevState,removed:t.removed,src:e}),r.each(t.changed,function(t,n){this._fireChangeEvent(e,n,t)},this),r.each(t.removed,function(t,n){this._fireRemoveEvent(e,n,t)},this)},_fireChangeEvent:function(e,t,n){this.fire(t+"Change",{newVal:n.newVal,prevVal:n.prevVal,src:e})},_fireRemoveEvent:function(e,t,n){this.fire(t+"Remove",{prevVal:n,src:e})},_resolveChanges:function(e,t,n){var s={},o,u=i._state,a={};t||(t={}),n||(n={}),d(t)&&d(u)?(r.each(t,function(e,t){var n=u[t];e!==n&&(s[t]={newVal:e,prevVal:n},o=!0)},this),r.each(u,function(e,n){if(!r.owns(t,n)||t[n]===null)delete t[n],a[n]=e,o=!0},this)):o=t!==u,(o||this.force)&&this._fireEvents(e,{changed:s,newState:t,prevState:u,removed:a},n)},_storeState:function(e,t){i._state=t||{}},_defChangeFn:function(e){this._storeState(e.src,e.newVal,e._options)}},!0),e.HistoryBase=p},"3.9.1",{requires:["event-custom-complex"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("history-html5",function(e,t){function a(){a.superclass.constructor.apply(this,arguments)}var n=e.HistoryBase,r=e.Lang,i=e.config.win,s=e.config.useHistoryHTML5,o="popstate",u=n.SRC_REPLACE;e.extend(a,n,{_init:function(t){var n=i.history.state;e.Object.isEmpty(n)&&(n=null),t||(t={}),t.initialState&&r.type(t.initialState)==="object"&&r.type(n)==="object"?this._initialState=e.merge(t.initialState,n):this._initialState=n,e.on("popstate",this._onPopState,i,this),a.superclass._init.apply(this,arguments)},_storeState:function(t,n,r){t!==o&&i.history[t===u?"replaceState":"pushState"](n,r.title||e.config.doc.title||"",r.url||null),a.superclass._storeState.apply(this,arguments)},_onPopState:function(e){this._resolveChanges(o,e._event.state||null)}},{NAME:"historyhtml5",SRC_POPSTATE:o}),e.Node.DOM_EVENTS.popstate||(e.Node.DOM_EVENTS.popstate=1),e.HistoryHTML5=a;if(s===!0||s!==!1&&n.html5)e.History=a},"3.9.1",{optional:["json"],requires:["event-base","history-base","node-base"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("history-hash",function(e,t){function p(){p.superclass.constructor.apply(this,arguments)}var n=e.HistoryBase,r=e.Lang,i=e.Array,s=e.Object,o=YUI.namespace("Env.HistoryHash"),u="hash",a,f,l,c=e.config.win,h=e.config.useHistoryHTML5;e.extend(p,n,{_init:function(t){var n=p.parseHash();t=t||{},this._initialState=t.initialState?e.merge(t.initialState,n):n,e.after("hashchange",e.bind(this._afterHashChange,this),c),p.superclass._init.apply(this,arguments)},_change:function(e,t,n){return s.each(t,function(e,n){r.isValue(e)&&(t[n]=e.toString())}),p.superclass._change.call(this,e,t,n)},_storeState:function(e,t){var r=p.decode,i=p.createHash(t);p.superclass._storeState.apply(this,arguments),e!==u&&r(p.getHash())!==r(i)&&p[e===n.SRC_REPLACE?"replaceHash":"setHash"](i)},_afterHashChange:function(e){this._resolveChanges(u,p.parseHash(e.newHash),{})}},{NAME:"historyHash",SRC_HASH:u,hashPrefix:"",_REGEX_HASH:/([^\?#&]+)=([^&]+)/g,createHash:function(e){var t=p.encode,n=[];return s.each(e,function(e,i){r.isValue(e)&&n.push(t(i)+"="+t(e))}),n.join("&")},decode:function(e){return decodeURIComponent(e.replace(/\+/g," "))},encode:function(e){return encodeURIComponent(e).replace(/%20/g,"+")},getHash:e.UA.gecko?function(){var t=e.getLocation(),n=/#(.*)$/.exec(t.href),r=n&&n[1]||"",i=p.hashPrefix;return i&&r.indexOf(i)===0?r.replace(i,""):r}:function(){var t=e.getLocation(),n=t.hash.substring(1),r=p.hashPrefix;return r&&n.indexOf(r)===0?n.replace(r,""):n},getUrl:function(){return location.href},parseHash:function(e){var t=p.decode,n,i,s,o,u={},a=p.hashPrefix,f;e=r.isValue(e)?e:p.getHash();if(a){f=e.indexOf(a);if(f===0||f===1&&e.charAt(0)==="#")e=e.replace(a,"")}s=e.match(p._REGEX_HASH)||[];for(n=0,i=s.length;n<i;++n)o=s[n].split("="),u[t(o[0])]=t(o[1]);return u},replaceHash:function(t){var n=e.getLocation(),r=n.href.replace(/#.*$/,"");t.charAt(0)==="#"&&(t=t.substring(1)),n.replace(r+"#"+(p.hashPrefix||"")+t)},setHash:function(t){var n=e.getLocation();t.charAt(0)==="#"&&(t=t.substring(1)),n.hash=(p.hashPrefix||"")+t}}),a=o._notifiers,a||(a=o._notifiers=[]),e.Event.define("hashchange",{on:function(t,n,r){(t.compareTo(c)||t.compareTo(e.config.doc.body))&&a.push(r)},detach:function(e,t,n){var r=i.indexOf(a,n);r!==-1&&a.splice(r,1)}}),f=p.getHash(),l=p.getUrl(),n.nativeHashChange?o._hashHandle||(o._hashHandle=e.Event.attach("hashchange",function(e){var t=p.getHash(),n=p.getUrl();i.each(a.concat(),function(r){r.fire({_event:e,oldHash:f,oldUrl:l,newHash:t,newUrl:n})}),f=t,l=n},c)):o._hashPoll||(o._hashPoll=e.later(50,null,function(){var e=p.getHash(),t,n;f!==e&&(n=p.getUrl(),t={oldHash:f,oldUrl:l,newHash:e,newUrl:n},f=e,l=n,i.each(a.concat(),function(e){e.fire(t)}))},null,!0)),e.HistoryHash=p;if(h===!1||!e.History&&h!==!0&&(!n.html5||!e.HistoryHTML5))e.History=p},"3.9.1",{requires:["event-synthetic","history-base","yui-later"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("history-hash-ie",function(e,t){if(e.UA.ie&&!e.HistoryBase.nativeHashChange){var n=e.Do,r=YUI.namespace("Env.HistoryHash"),i=e.HistoryHash,s=r._iframe,o=e.config.win;i.getIframeHash=function(){if(!s||!s.contentWindow)return"";var e=i.hashPrefix,t=s.contentWindow.location.hash.substr(1);return e&&t.indexOf(e)===0?t.replace(e,""):t},i._updateIframe=function(e,t){var n=s&&s.contentWindow&&s.contentWindow.document,r=n&&n.location;if(!n||!r)return;t?r.replace(e.charAt(0)==="#"?e:"#"+e):(n.open().close(),r.hash=e)},n.before(i._updateIframe,i,"replaceHash",i,!0),s||e.on("domready",function(){var t=i.getHash();s=r._iframe=e.Node.getDOMNode(e.Node.create('<iframe src="javascript:0" style="display:none" height="0" width="0" tabindex="-1" title="empty"/>')),e.config.doc.documentElement.appendChild(s),i._updateIframe(t||"#"),e.on("hashchange",function(e){t=e.newHash,i.getIframeHash()!==t&&i._updateIframe(t)},o),e.later(50,null,function(){var e=i.getIframeHash();e!==t&&i.setHash(e)},null,!0)})}},"3.9.1",{requires:["history-hash","node-base"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("router",function(e,t){function f(){f.superclass.constructor.apply(this,arguments)}var n=e.HistoryHash,r=e.QueryString,i=e.Array,s=e.config.win,o=[],u=[],a="ready";e.Router=e.extend(f,e.Base,{_regexPathParam:/([:*])([\w\-]+)?/g,_regexUrlQuery:/\?([^#]*).*$/,_regexUrlOrigin:/^(?:[^\/#?:]+:\/\/|\/\/)[^\/]*/,initializer:function(t){var n=this;n._html5=n.get("html5"),n._routes=[],n._url=n._getURL(),n._setRoutes(t&&t.routes?t.routes:n.get("routes")),n._html5?(n._history=new e.HistoryHTML5({force:!0}),n._historyEvents=e.after("history:change",n._afterHistoryChange,n)):n._historyEvents=e.on("hashchange",n._afterHistoryChange,s,n),n.publish(a,{defaultFn:n._defReadyFn,fireOnce:!0,preventable:!1}),n.once("initializedChange",function(){e.once("load",function(){setTimeout(function(){n.fire(a,{dispatched:!!n._dispatched})},20)})}),o.push(this)},destructor:function(){var e=i.indexOf(o,this);e>-1&&o.splice(e,1),this._historyEvents&&this._historyEvents.detach()},dispatch:function(){return this.once(a,function(){this._ready=!0;if(this._html5&&this.upgrade())return;this._dispatch(this._getPath(),this._getURL())}),this},getPath:function(){return this._getPath()},hasRoute:function(e){var t;return this._hasSameOrigin(e)?(this._html5||(e=this._upgradeURL(e)),t=this.removeQuery(this.removeRoot(e)),!!this.match(t).length):!1},match:function(e){return i.filter(this._routes,function(t){return e.search(t.regex)>-1})},removeRoot:function(e){var t=this.get("root");return e=e.replace(this._regexUrlOrigin,""),t&&e.indexOf(t)===0&&(e=e.substring(t.length)),e.charAt(0)==="/"?e:"/"+e},removeQuery:function(e){return e.replace(/\?.*$/,"")},replace:function(e){return this._queue(e,!0)},route:function(e,t){t=i.flatten(i(arguments,1,!0));var n=[];return this._routes.push({callbacks:t,keys:n,path:e,regex:this._getRegex(e,n),callback:t[0]}),this},save:function(e){return this._queue(e)},upgrade:function(){if(!this._html5)return!1;var e=this._getHashPath();return e?(this.once(a,function(){this.replace(e)}),!0):!1},_decode:function(e){return decodeURIComponent(e.replace(/\+/g," "))},_dequeue:function(){var t=this,n;return YUI.Env.windowLoaded?(n=u.shift(),n?n():this):(e.once("load",function(){t._dequeue()}),this)},_dispatch:function(t,n,r){var s=this,o=s._decode,u=s.match(t),a=[],f,l,c;return s._dispatching=s._dispatched=!0,!u||!u.length?(s._dispatching=!1,s):(l=s._getRequest(t,n,r),c=s._getResponse(l),l.next=function(n){var r,h,p;if(n)n==="route"?(a=[],l.next()):e.error(n);else if(r=a.shift())typeof r=="string"&&(h=r,r=s[h],r||e.error("Router: Callback not found: "+h,null,"router")),l.pendingCallbacks=a.length,r.call(s,l,c,l.next);else if(p=u.shift())a=p.callbacks.concat(),f=i.map(p.regex.exec(t)||[],o),f.length===p.keys.length+1?l.params=i.hash(p.keys,f.slice(1)):l.params=f.concat(),l.pendingRoutes=u.length,l.next()},l.next(),s._dispatching=!1,s._dequeue())},_getHashPath:function(e){return e||(e=n.getHash()),e&&e.charAt(0)==="/"?this._joinURL(e):""},_getOrigin:function(){var t=e.getLocation();return t.origin||t.protocol+"//"+t.host},_getPath:function(){var t=!this._html5&&this._getHashPath()||e.getLocation().pathname;return this.removeQuery(this.removeRoot(t))},_getPathRoot:function(){var t="/",n=e.getLocation().pathname,r;return n.charAt(n.length-1)===t?n:(r=n.split(t),r.pop(),r.join(t)+t)},_getQuery:function(){var t=e.getLocation(),r,i;return this._html5?t.search.substring(1):(r=n.getHash(),i=r.match(this._regexUrlQuery),r&&i?i[1]:t.search.substring(1))},_getRegex:function(e,t){return e instanceof RegExp?e:e==="*"?/.*/:(e=e.replace(this._regexPathParam,function(e,n,r){return r?(t.push(r),n==="*"?"(.*?)":"([^/#?]*)"):n==="*"?".*":e}),new RegExp("^"+e+"$"))},_getRequest:function(e,t,n){return{path:e,query:this._parseQuery(this._getQuery()),url:t,src:n}},_getResponse:function(e){var t=function(){return e.next.apply(this,arguments)};return t.req=e,t},_getRoutes:function(){return this._routes.concat()},_getURL:function(){var t=e.getLocation().toString();return this._html5||(t=this._upgradeURL(t)),t},_hasSameOrigin:function(t){var n=(t&&t.match(this._regexUrlOrigin)||[])[0];return n&&n.indexOf("//")===0&&(n=e.getLocation().protocol+n),!n||n===this._getOrigin()},_joinURL:function(e){var t=this.get("root");return e=this.removeRoot(e),e.charAt(0)==="/"&&(e=e.substring(1)),t&&t.charAt(t.length-1)==="/"?t+e:t+"/"+e},_normalizePath:function(e){var t="..",n="/",r,i,s,o,u,a;if(!e||e===n)return n;o=e.split(n),a=[];for(r=0,i=o.length;r<i;++r)u=o[r],u===t?a.pop():u&&a.push(u);return s=n+a.join(n),s!==n&&e.charAt(e.length-1)===n&&(s+=n),s},_parseQuery:r&&r.parse?r.parse:function(e){var t=this._decode,n=e.split("&"),r=0,i=n.length,s={},o;for(;r<i;++r)o=n[r].split("="),o[0]&&(s[t(o[0])]=t(o[1]||""));return s},_queue:function(){var t=arguments,n=this;return u.push(function(){return n._html5?e.UA.ios&&e.UA.ios<5?n._save.apply(n,t):setTimeout(function(){n._save.apply(n,t)},1):(n._dispatching=!0,n._save.apply(n,t)),n}),this._dispatching?this:this._dequeue()},_resolvePath:function(t){return t?(t.charAt(0)!=="/"&&(t=this._getPathRoot()+t),this._normalizePath(t)):e.getLocation().pathname},_resolveURL:function(t){var n=t&&t.match(this._regexURL),r,i,s,o,u;return n?(r=n[1],i=n[2],s=n[3],o=n[4],r?(r.indexOf("//")===0&&(r=e.getLocation().protocol+r),r+(i||"/")+(s||"")+(o||"")):(u=this._getOrigin()+this._resolvePath(i),i||s?u+(s||"")+(o||""):(s=this._getQuery(),u+(s?"?"+s:"")+(o||"")))):e.getLocation().toString()},_save:function(t,r){var i=typeof t=="string",s,o;if(i&&!this._hasSameOrigin(t))return e.error("Security error: The new URL must be of the same origin as the current URL."),this;i&&(t=this._joinURL(t)),this._ready=!0;if(this._html5)this._history[r?"replace":"add"](null,{url:t});else{s=e.getLocation().pathname,o=this.get("root");if(o===s||o===this._getPathRoot())t=this.removeRoot(t);t===n.getHash()?e.Router.dispatch():n[r?"replaceHash":"setHash"](t)}return this},_setRoutes:function(e){return this._routes=[],i.each(e,function(e){var t=e.callbacks||
e.callback;this.route(e.path,t)},this),this._routes.concat()},_upgradeURL:function(t){if(!this._hasSameOrigin(t))return t;var n=(t.match(/#(.*)$/)||[])[1]||"",r=e.HistoryHash.hashPrefix,i;r&&n.indexOf(r)===0&&(n=n.replace(r,""));if(n){i=this._getHashPath(n);if(i)return this._resolveURL(i)}return t},_afterHistoryChange:function(e){var t=this,n=e.src,r=t._url,i=t._getURL();t._url=i;if(n==="popstate"&&(!t._ready||r.replace(/#.*$/,"")===i.replace(/#.*$/,"")))return;t._dispatch(t._getPath(),i,n)},_defReadyFn:function(e){this._ready=!0}},{NAME:"router",ATTRS:{html5:{valueFn:function(){return e.Router.html5},writeOnce:"initOnly"},root:{value:""},routes:{value:[],getter:"_getRoutes",setter:"_setRoutes"}},html5:e.HistoryBase.html5&&(!e.UA.android||e.UA.android>=3),_instances:o,dispatch:function(){var e,t,n;for(e=0,t=o.length;e<t;e+=1)n=o[e],n&&n._dispatch(n._getPath(),n._getURL())}}),e.Controller=e.Router},"3.9.1",{optional:["querystring-parse"],requires:["array-extras","base-build","history"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("view",function(e,t){function n(){n.superclass.constructor.apply(this,arguments)}e.View=e.extend(n,e.Base,{containerTemplate:"<div/>",events:{},template:"",_allowAdHocAttrs:!0,initializer:function(t){t||(t={}),t.containerTemplate&&(this.containerTemplate=t.containerTemplate),t.template&&(this.template=t.template),this.events=t.events?e.merge(this.events,t.events):this.events,this.after("containerChange",this._afterContainerChange)},destroy:function(e){return e&&(e.remove||e["delete"])&&this.onceAfter("destroy",function(){this._destroyContainer()}),n.superclass.destroy.call(this)},destructor:function(){this.detachEvents(),delete this._container},attachEvents:function(t){var n=this.get("container"),r=e.Object.owns,i,s,o,u;this.detachEvents(),t||(t=this.events);for(u in t){if(!r(t,u))continue;s=t[u];for(o in s){if(!r(s,o))continue;i=s[o],typeof i=="string"&&(i=this[i]);if(!i)continue;this._attachedViewEvents.push(n.delegate(o,i,u,this))}}return this},create:function(t){return t?e.one(t):e.Node.create(this.containerTemplate)},detachEvents:function(){return e.Array.each(this._attachedViewEvents,function(e){e&&e.detach()}),this._attachedViewEvents=[],this},remove:function(){var e=this.get("container");return e&&e.remove(),this},render:function(){return this},_destroyContainer:function(){var e=this.get("container");e&&e.remove(!0)},_getContainer:function(e){return this._container||(e?(this._container=e,this.attachEvents()):(e=this._container=this.create(),this._set("container",e))),e},_afterContainerChange:function(){this.attachEvents(this.events)}},{NAME:"view",ATTRS:{container:{getter:"_getContainer",setter:e.one,writeOnce:!0}},_NON_ATTRS_CFG:["containerTemplate","events","template"]})},"3.9.1",{requires:["base-build","node-event-delegate"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("pjax-base",function(e,t){function s(){}var n=e.config.win,r=e.ClassNameManager.getClassName("pjax"),i="navigate";s.prototype={_regexURL:/^((?:[^\/#?:]+:\/\/|\/\/)[^\/]*)?([^?#]*)(\?[^#]*)?(#.*)?$/,initializer:function(){this.publish(i,{defaultFn:this._defNavigateFn}),this.get("html5")&&this._pjaxBindUI()},destructor:function(){this._pjaxEvents&&this._pjaxEvents.detach()},navigate:function(t,n){return t=this._resolveURL(t),this._navigate(t,n)?!0:(this._hasSameOrigin(t)||e.error("Security error: The new URL must be of the same origin as the current URL."),!1)},_isLinkSameOrigin:function(t){var n=e.getLocation(),r=n.protocol,i=n.hostname,s=parseInt(n.port,10)||null,o;return t.get("protocol")!==r||t.get("hostname")!==i?!1:(o=parseInt(t.get("port"),10)||null,r==="http:"?(s||(s=80),o||(o=80)):r==="https:"&&(s||(s=443),o||(o=443)),o===s)},_navigate:function(t,r){t=this._upgradeURL(t);if(!this.hasRoute(t))return!1;r=e.merge(r,{url:t});var s=this._getURL(),o,u;u=t.replace(/(#.*)$/,function(e,t,n){return o=t,e.substring(n)});if(o&&u===s.replace(/#.*$/,"")){if(!this.get("navigateOnHash"))return!1;r.hash=o}return"replace"in r||(r.replace=t===s),this.get("html5")||r.force?this.fire(i,r):n&&(r.replace?n.location.replace(t):n.location=t),!0},_pjaxBindUI:function(){this._pjaxEvents||(this._pjaxEvents=e.one("body").delegate("click",this._onLinkClick,this.get("linkSelector"),this))},_defNavigateFn:function(e){this[e.replace?"replace":"save"](e.url),n&&this.get("scrollToTop")&&setTimeout(function(){n.scroll(0,0)},1)},_onLinkClick:function(e){var t,n,r;if(e.button!==1||e.ctrlKey||e.metaKey)return;t=e.currentTarget;if(t.get("tagName").toUpperCase()!=="A")return;if(!this._isLinkSameOrigin(t))return;n=t.get("href"),n&&(r=this._navigate(n,{originEvent:e}),r&&e.preventDefault())}},s.ATTRS={linkSelector:{value:"a."+r,writeOnce:"initOnly"},navigateOnHash:{value:!1},scrollToTop:{value:!0}},e.PjaxBase=s},"3.9.1",{requires:["classnamemanager","node-event-delegate","router"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("app-base",function(e,t){var n=e.Lang,r=e.Object,i=e.PjaxBase,s=e.Router,o=e.View,u=e.ClassNameManager.getClassName,a=e.config.win,f;f=e.Base.create("app",e.Base,[o,s,i],{views:{},initializer:function(t){function i(t,r){n[r]=e.merge(n[r],t)}t||(t={});var n={};r.each(this.views,i),r.each(t.views,i),this.views=n,this._viewInfoMap={},this.after("activeViewChange",e.bind("_afterActiveViewChange",this)),this.get("serverRouting")||this._pjaxBindUI()},createView:function(t,i){var s=this.getViewInfo(t),u=s&&s.type||o,a,f;return a=n.isString(u)?r.getValue(e,u.split(".")):u,f=new a(i),this._viewInfoMap[e.stamp(f,!0)]=s,f},getViewInfo:function(t){return n.isString(t)?this.views[t]:t&&this._viewInfoMap[e.stamp(t,!0)]},render:function(){var t=e.App.CLASS_NAMES,n=this.get("container"),r=this.get("viewContainer"),i=this.get("activeView"),s=i&&i.get("container"),o=n.compareTo(r);return n.addClass(t.app),r.addClass(t.views),i&&!r.contains(s)&&r.appendChild(s),!n.contains(r)&&!o&&n.appendChild(r),this},showView:function(t,r,i,s){var o,u;return i||(i={}),s?i=e.merge(i,{callback:s}):n.isFunction(i)&&(i={callback:i}),n.isString(t)&&(o=this.getViewInfo(t),o&&o.preserve&&o.instance?(t=o.instance,this._viewInfoMap[e.stamp(t,!0)]=o):(t=this.createView(t,r),u=!0)),i.update&&!u&&t.setAttrs(r),"render"in i?i.render&&t.render():u&&t.render(),this._set("activeView",t,{options:i})},_attachView:function(e,t){if(!e)return;var n=this.getViewInfo(e),r=this.get("viewContainer");e.addTarget(this),n&&(n.instance=e),r[t?"prepend":"append"](e.get("container"))},_destroyContainer:function(){var t=e.App.CLASS_NAMES,n=this.get("container"),r=this.get("viewContainer"),i=n.compareTo(r);if(e.one("body").compareTo(n)){this.detachEvents(),n.removeClass(t.app),i?n.removeClass(t.views):r.remove(!0);return}r.remove(!0),i||n.remove(!0)},_detachView:function(t){if(!t)return;var n=this.getViewInfo(t)||{};n.preserve?t.remove():(t.destroy({remove:!0}),delete this._viewInfoMap[e.stamp(t,!0)],t===n.instance&&delete n.instance),t.removeTarget(this)},_getViewContainer:function(e){return!e&&!this._viewContainer&&(e=this._viewContainer=this.create(),this._set("viewContainer",e)),e},_initHtml5:function(){return this.get("serverRouting")===!1?!1:s.html5},_isChildView:function(e,t){var n=this.getViewInfo(e),r=this.getViewInfo(t);return n&&r?this.getViewInfo(n.parent)===r:!1},_isParentView:function(e,t){var n=this.getViewInfo(e),r=this.getViewInfo(t);return n&&r?this.getViewInfo(r.parent)===n:!1},_navigate:function(t,n){return this.get("serverRouting")||(n=e.merge({force:!0},n)),i.prototype._navigate.call(this,t,n)},_save:function(t,n){var r;return this.get("serverRouting")&&!this.get("html5")?this._hasSameOrigin(t)?(a&&(r=this._joinURL(t||""),n?a.location.replace(r):a.location=r),this):(e.error("Security error: The new URL must be of the same origin as the current URL."),this):s.prototype._save.apply(this,arguments)},_uiSetActiveView:function(e,t,n){n||(n={});var r=n.callback,i=this._isChildView(e,t),s=!i&&this._isParentView(e,t),o=!!n.prepend||s;if(e===t)return r&&r.call(this,e);this._attachView(e,o),this._detachView(t),r&&r.call(this,e)},_afterActiveViewChange:function(e){this._uiSetActiveView(e.newVal,e.prevVal,e.options)}},{ATTRS:{activeView:{value:null,readOnly:!0},container:{valueFn:function(){return e.one("body")}},html5:{valueFn:"_initHtml5"},linkSelector:{value:"a"},serverRouting:{valueFn:function(){return e.App.serverRouting},writeOnce:"initOnly"},viewContainer:{getter:"_getViewContainer",setter:e.one,writeOnce:!0}},_NON_ATTRS_CFG:["views"]}),e.namespace("App").Base=f,e.App=e.mix(e.Base.create("app",f,[]),e.App,!0),e.App.CLASS_NAMES={app:u("app"),views:u("app","views")}},"3.9.1",{requires:["classnamemanager","pjax-base","router","view"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("pjax-content",function(e,t){function n(){}n.prototype={getContent:function(t){var n={},r=this.get("contentSelector"),i=e.Node.create(t||""),s=this.get("titleSelector"),o;return r&&i?n.node=i.all(r).toFrag():n.node=i,s&&i&&(o=i.one(s),o&&(n.title=o.get("text"))),n},loadContent:function(t,n,r){var i=t.url;this._request&&this._request.abort(),this.get("addPjaxParam")&&(i=i.replace(/([^#]*)(#.*)?$/,function(e,t,n){return t+=(t.indexOf("?")>-1?"&":"?")+"pjax=1",t+(n||"")})),this._request=e.io(i,{arguments:{route:{req:t,res:n,next:r},url:i},context:this,headers:{"X-PJAX":"true"},timeout:this.get("timeout"),on:{complete:this._onPjaxIOComplete,end:this._onPjaxIOEnd}})},_onPjaxIOComplete:function(e,t,n){var r=this.getContent(t.responseText),i=n.route,s=i.req,o=i.res;s.ioURL=n.url,o.content=r,o.ioResponse=t,i.next()},_onPjaxIOEnd:function(){this._request=null}},n.ATTRS={addPjaxParam:{value:!0},contentSelector:{value:null},titleSelector:{value:"title"},timeout:{value:3e4}},e.PjaxContent=n},"3.9.1",{requires:["io-base","node-base","router"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("app-content",function(e,t){function r(){n.apply(this,arguments)}var n=e.PjaxContent;r.route=["loadContent","_contentRoute"],r.prototype={showContent:function(t,n,r){t=e.one(t),typeof n=="function"&&(n={callback:n},r=null),n=e.merge({render:!1},n);var i=n.view||"",s=typeof i=="string"?i:i.name,o=typeof i!="string"?i.config:{},u=this.getViewInfo(s),a,f,l,c;return delete n.view,t&&t.isFragment()&&t.get("childNodes").size()===1&&(t=t.get("firstChild")),t&&t.get("nodeType")===1?a=t:(l=u&&u.type||e.View,c=typeof l=="string"?e.Object.getValue(e,l.split(".")):l,f=c.prototype.containerTemplate,a=e.Node.create(f),a.append(t)),o=e.merge(o,{container:a}),this.showView(s,o,n,r)},_contentRoute:function(t,n,r){var i=n.content,s=e.config.doc,o;if(!i||!i.node)return r();i.title&&s&&(o=this.onceAfter("activeViewChange",function(){s.title=i.title})),this.showContent(i.node),o&&o.detach(),r()}},r.ATTRS=e.Attribute.protectAttrs(n.ATTRS),e.mix(r,n,!1,null,1),e.App.Content=r,e.Base.mix(e.App,[r])},"3.9.1",{requires:["app-base","pjax-content"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("parallel",function(e,t){e.Parallel=function(t){this.config=t||{},this.results=[],this.context=this.config.context||e,this.total=0,this.finished=0},e.Parallel.prototype={results:null,total:null,finished:null,add:function(t){var n=this,r=n.total;return n.total+=1,function(){n.finished++,n.results[r]=t&&t.apply(n.context,arguments)||(arguments.length===1?arguments[0]:e.Array(arguments)),n.test()}},test:function(){var e=this;e.finished>=e.total&&e.callback&&e.callback.call(e.context,e.results,e.data)},done:function(e,t){this.callback=e,this.data=t,this.test()}}},"3.9.1",{requires:["yui-base"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("app-transitions",function(e,t){function n(){}n.ATTRS={transitions:{setter:"_setTransitions",value:!1}},n.FX={fade:{viewIn:"app:fadeIn",viewOut:"app:fadeOut"},slideLeft:{viewIn:"app:slideLeft",viewOut:"app:slideLeft"},slideRight:{viewIn:"app:slideRight",viewOut:"app:slideRight"}},n.prototype={transitions:{navigate:"fade",toChild:"slideLeft",toParent:"slideRight"},_setTransitions:function(t){var n=this.transitions;return t&&t===!0?e.merge(n):t}},e.App.Transitions=n,e.Base.mix(e.App,[n]),e.mix(e.App.CLASS_NAMES,{transitioning:e.ClassNameManager.getClassName("app","transitioning")})},"3.9.1",{requires:["app-base"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("escape",function(e,t){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},r={html:function(e){return(e+"").replace(/[&<>"'\/`]/g,r._htmlReplacer)},regex:function(e){return(e+"").replace(/[\-$\^*()+\[\]{}|\\,.?\s]/g,"\\$&")},_htmlReplacer:function(e){return n[e]}};r.regexp=r.regex,e.Escape=r},"3.9.1",{requires:["yui-base"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("model",function(e,t){function l(){l.superclass.constructor.apply(this,arguments)}var n=YUI.namespace("Env.Model"),r=e.Lang,i=e.Array,s=e.Object,o="change",u="error",a="load",f="save";e.Model=e.extend(l,e.Base,{idAttribute:"id",_allowAdHocAttrs:!0,_isYUIModel:!0,initializer:function(e){this.changed={},this.lastChange={},this.lists=[]},destroy:function(e,t){var n=this;return typeof e=="function"&&(t=e,e=null),n.onceAfter("destroy",function(){function r(r){r||i.each(n.lists.concat(),function(t){t.remove(n,e)}),t&&t.apply(null,arguments)}e&&(e.remove||e["delete"])?n.sync("delete",e,r):r()}),l.superclass.destroy.call(n)},generateClientId:function(){return n.lastId||(n.lastId=0),this.constructor.NAME+"_"+(n.lastId+=1)},getAsHTML:function(t){var n=this.get(t);return e.Escape.html(r.isValue(n)?String(n):"")},getAsURL:function(e){var t=this.get(e);return encodeURIComponent(r.isValue(t)?String(t):"")},isModified:function(){return this.isNew()||!s.isEmpty(this.changed)},isNew:function(){return!r.isValue(this.get("id"))},load:function(e,t){var n=this;return typeof e=="function"&&(t=e,e={}),e||(e={}),n.sync("read",e,function(r,i){var s={options:e,response:i},o;r?(s.error=r,s.src="load",n.fire(u,s)):(n._loadEvent||(n._loadEvent=n.publish(a,{preventable:!1})),o=s.parsed=n._parse(i),n.setAttrs(o,e),n.changed={},n.fire(a,s)),t&&t.apply(null,arguments)}),n},parse:function(t){if(typeof t=="string")try{return e.JSON.parse(t)}catch(n){return this.fire(u,{error:n,response:t,src:"parse"}),null}return t},save:function(e,t){var n=this;return typeof e=="function"&&(t=e,e={}),e||(e={}),n._validate(n.toJSON(),function(r){if(r){t&&t.call(null,r);return}n.sync(n.isNew()?"create":"update",e,function(r,i){var s={options:e,response:i},o;r?(s.error=r,s.src="save",n.fire(u,s)):(n._saveEvent||(n._saveEvent=n.publish(f,{preventable:!1})),i&&(o=s.parsed=n._parse(i),n.setAttrs(o,e)),n.changed={},n.fire(f,s)),t&&t.apply(null,arguments)})}),n},set:function(e,t,n){var r={};return r[e]=t,this.setAttrs(r,n)},setAttrs:function(t,n){var r=this.idAttribute,i,u,a,f,l;n||(n={}),l=n._transaction={},r!=="id"&&(t=e.merge(t),s.owns(t,r)?t.id=t[r]:s.owns(t,"id")&&(t[r]=t.id));for(a in t)s.owns(t,a)&&this._setAttr(a,t[a],n);if(!s.isEmpty(l)){i=this.changed,f=this.lastChange={};for(a in l)s.owns(l,a)&&(u=l[a],i[a]=u.newVal,f[a]={newVal:u.newVal,prevVal:u.prevVal,src:u.src||null});n.silent||(this._changeEvent||(this._changeEvent=this.publish(o,{preventable:!1})),this.fire(o,e.merge(n,{changed:f})))}return this},sync:function(){var e=i(arguments,0,!0).pop();typeof e=="function"&&e()},toJSON:function(){var e=this.getAttrs();return delete e.clientId,delete e.destroyed,delete e.initialized,this.idAttribute!=="id"&&delete e.id,e},undo:function(e,t){var n=this.lastChange,r=this.idAttribute,o={},u;return e||(e=s.keys(n)),i.each(e,function(e){s.owns(n,e)&&(e=e===r?"id":e,u=!0,o[e]=n[e].prevVal)}),u?this.setAttrs(o,t):this},validate:function(e,t){t&&t()},addAttr:function(e,t,n){var i=this.idAttribute,s,o;return i&&e===i&&(s=this._isLazyAttr("id")||this._getAttrCfg("id"),o=t.value===t.defaultValue?null:t.value,r.isValue(o)||(o=s.value===s.defaultValue?null:s.value,r.isValue(o)||(o=r.isValue(t.defaultValue)?t.defaultValue:s.defaultValue)),t.value=o,s.value!==o&&(s.value=o,this._isLazyAttr("id")?this._state.add("id","lazy",s):this._state.add("id","value",o))),l.superclass.addAttr.apply(this,arguments)},_parse:function(e){return this.parse(e)},_validate:function(e,t){function i(i){if(r.isValue(i)){n.fire(u,{attributes:e,error:i,src:"validate"}),t(i);return}t()}var n=this;n.validate.length===1?i(n.validate(e,i)):n.validate(e,i)},_defAttrChangeFn:function(e){var t=e.attrName;this._setAttrVal(t,e.subAttrName,e.prevVal,e.newVal)?(e.newVal=this.get(t),e._transaction&&(e._transaction[t]=e)):e.stopImmediatePropagation()}},{NAME:"model",ATTRS:{clientId:{valueFn:"generateClientId",readOnly:!0},id:{value:null}}})},"3.9.1",{requires:["base-build","escape","json-parse"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("array-invoke",function(e,t){e.Array.invoke=function(t,n){var r=e.Array(arguments,2,!0),i=e.Lang.isFunction,s=[];return e.Array.each(e.Array(t),function(e,t){e&&i(e[n])&&(s[t]=e[n].apply(e,r))}),s}},"3.9.1",{requires:["yui-base"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("arraylist",function(e,t){function s(t){t!==undefined?this._items=e.Lang.isArray(t)?t:n(t):this._items=this._items||[]}var n=e.Array,r=n.each,i;i={item:function(e){return this._items[e]},each:function(e,t){return r(this._items,function(n,r){n=this.item(r),e.call(t||n,n,r,this)},this),this},some:function(e,t){return n.some(this._items,function(n,r){return n=this.item(r),e.call(t||n,n,r,this)},this)},indexOf:function(e){return n.indexOf(this._items,e)},size:function(){return this._items.length},isEmpty:function(){return!this.size()},toJSON:function(){return this._items}},i._item=i.item,e.mix(s.prototype,i),e.mix(s,{addMethod:function(e,t){t=n(t),r(t,function(t){e[t]=function(){var e=n(arguments,0,!0),i=[];return r(this._items,function(n,r){n=this._item(r);var s=n[t].apply(n,e);s!==undefined&&s!==n&&(i[r]=s)},this),i.length?i:this}})}}),e.ArrayList=s},"3.9.1",{requires:["yui-base"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("model-list",function(e,t){function c(){c.superclass.constructor.apply(this,arguments)}var n=e.Attribute.prototype,r=e.Lang,i=e.Array,s="add",o="create",u="error",a="load",f="remove",l="reset";e.ModelList=e.extend(c,e.Base,{model:e.Model,_isYUIModelList:!0,initializer:function(t){t||(t={});var n=this.model=t.model||this.model;typeof n=="string"&&(this.model=e.Object.getValue(e,n.split(".")),this.model||e.error("ModelList: Model class not found: "+n)),this.publish(s,{defaultFn:this._defAddFn}),this.publish(l,{defaultFn:this._defResetFn}),this.publish(f,{defaultFn:this._defRemoveFn}),this.after("*:idChange",this._afterIdChange),this._clear(),t.items&&this.add(t.items,{silent:!0})},destructor:function(){this._clear()},add:function(t,n){var s=t._isYUIModelList;return s||r.isArray(t)?i.map(s?t.toArray():t,function(t,r){var i=n||{};return"index"in i&&(i=e.merge(i,{index:i.index+r})),this._add(t,i)},this):this._add(t,n)},create:function(t,n,r){var i=this;return typeof n=="function"&&(r=n,n={}),n||(n={}),t._isYUIModel||(t=new this.model(t)),i.fire(o,e.merge(n,{model:t})),t.save(n,function(e){e||i.add(t,n),r&&r.apply(null,arguments)})},each:function(e,t){var n=this._items.concat(),r,i,s;for(r=0,s=n.length;r<s;r++)i=n[r],e.call(t||i,i,r,this);return this},filter:function(e,t){var n=[],r=this._items,i,s,o,u;typeof e=="function"&&(t=e,e={});for(i=0,o=r.length;i<o;++i)s=r[i],t.call(this,s,i,this)&&n.push(s);return e.asList?(u=new this.constructor({model:this.model}),n.length&&u.add(n,{silent:!0}),u):n},get:function(e){return this.attrAdded(e)?n.get.apply(this,arguments):this.invoke("get",e)},getAsHTML:function(t){return this.attrAdded(t)?e.Escape.html(n.get.apply(this,arguments)):this.invoke("getAsHTML",t)},getAsURL:function(e){return this.attrAdded(e)?encodeURIComponent(n.get.apply(this,arguments)):this.invoke("getAsURL",e)},getByClientId:function(e){return this._clientIdMap[e]||null},getById:function(e){return this._idMap[e]||null},invoke:function(e){var t=[this._items,e].concat(i(arguments,1,!0));return i.invoke.apply(i,t)},load:function(e,t){var n=this;return typeof e=="function"&&(t=e,e={}),e||(e={}),this.sync("read",e,function(r,i){var s={options:e,response:i},o;r?(s.error=r,s.src="load",n.fire(u,s)):(n._loadEvent||(n._loadEvent=n.publish(a,{preventable:!1})),o=s.parsed=n._parse(i),n.reset(o,e),n.fire(a,s)),t&&t.apply(null,arguments)}),this},map:function(e,t){return i.map(this._items,e,t)},parse:function(t){if(typeof t=="string")try{return e.JSON.parse(t)||[]}catch(n){return this.fire(u,{error:n,response:t,src:"parse"}),null}return t||[]},remove:function(e,t){var n=e._isYUIModelList;return n||r.isArray(e)?(e=i.map(n?e.toArray():e,function(e){return r.isNumber(e)?this.item(e):e},this),i.map(e,function(e){return this._remove(e,t)},this)):this._remove(e,t)},reset:function(t,n){t||(t=[]),n||(n={});var r=e.merge({src:"reset"},n);return t._isYUIModelList?t=t.toArray():t=i.map(t,function(e){return e._isYUIModel?e:new this.model(e)},this),r.models=t,n.silent?this._defResetFn(r):(this.comparator&&t.sort(e.bind(this._sort,this)),this.fire(l,r)),this},some:function(e,t){var n=this._items.concat(),r,i,s;for(r=0,s=n.length;r<s;r++){i=n[r];if(e.call(t||i,i,r,this))return!0}return!1},sort:function(t){if(!this.comparator)return this;var n=this._items.concat(),r;return t||(t={}),n.sort(e.bind(this._sort,this)),r=e.merge(t,{models:n,src:"sort"}),t.silent?this._defResetFn(r):this.fire(l,r),this},sync:function(){var e=i(arguments,0,!0).pop();typeof e=="function"&&e()},toArray:function(){return this._items.concat()},toJSON:function(){return this.map(function(e){return e.toJSON()})},_add:function(t,n){var i,o;n||(n={}),t._isYUIModel||(t=new this.model(t)),o=t.get("id");if(this._clientIdMap[t.get("clientId")]||r.isValue(o)&&this._idMap[o]){this.fire(u,{error:"Model is already in the list.",model:t,src:"add"});return}return i=e.merge(n,{index:"index"in n?n.index:this._findIndex(t),model:t}),n.silent?this._defAddFn(i):this.fire(s,i),t},_attachList:function(e){e.lists.push(this),e.addTarget(this)},_clear:function(){i.each(this._items,this._detachList,this),this._clientIdMap={},this._idMap={},this._items=[]},_compare:function(e,t){return e<t?-1:e>t?1:0},_detachList:function(e){var t=i.indexOf(e.lists,this);t>-1&&(e.lists.splice(t,1),e.removeTarget(this))},_findIndex:function(e){var t=this._items,n=t.length,r=0,i,s,o;if(!this.comparator||!n)return n;o=this.comparator(e);while(r<n)s=r+n>>1,i=t[s],this._compare(this.comparator(i),o)<0?r=s+1:n=s;return r},_parse:function(e){return this.parse(e)},_remove:function(t,n){var i,s;n||(n={}),r.isNumber(t)?(i=t,t=this.item(i)):i=this.indexOf(t);if(i===-1||!t){this.fire(u,{error:"Model is not in the list.",index:i,model:t,src:"remove"});return}return s=e.merge(n,{index:i,model:t}),n.silent?this._defRemoveFn(s):this.fire(f,s),t},_sort:function(e,t){return this._compare(this.comparator(e),this.comparator(t))},_afterIdChange:function(e){var t=e.newVal,n=e.prevVal,i=e.target;if(r.isValue(n)){if(this._idMap[n]!==i)return;delete this._idMap[n]}else if(this.indexOf(i)===-1)return;r.isValue(t)&&(this._idMap[t]=i)},_defAddFn:function(e){var t=e.model,n=t.get("id");this._clientIdMap[t.get("clientId")]=t,r.isValue(n)&&(this._idMap[n]=t),this._attachList(t),this._items.splice(e.index,0,t)},_defRemoveFn:function(e){var t=e.model,n=t.get("id");this._detachList(t),delete this._clientIdMap[t.get("clientId")],r.isValue(n)&&delete this._idMap[n],this._items.splice(e.index,1)},_defResetFn:function(e){if(e.src==="sort"){this._items=e.models.concat();return}this._clear(),e.models.length&&this.add(e.models,{silent:!0})}},{NAME:"modelList"}),e.augment(c,e.ArrayList)},"3.9.1",{requires:["array-extras","array-invoke","arraylist","base-build","escape","json-parse","model"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("lazy-model-list",function(e,t){var n=e.Attribute.prototype,r=YUI.namespace("Env.Model"),i=e.Lang,s=e.Array,o="add",u="error",a="reset";e.LazyModelList=e.Base.create("lazyModelList",e.ModelList,[],{initializer:function(){this.after("*:change",this._afterModelChange)},free:function(e){var t;return e?(t=i.isNumber(e)?e:this.indexOf(e),t>=0&&delete this._models[t]):this._models=[],this},get:function(e){return this.attrAdded(e)?n.get.apply(this,arguments):s.map(this._items,function(t){return t[e]})},getAsHTML:function(t){return this.attrAdded(t)?e.Escape.html(n.get.apply(this,arguments)):s.map(this._items,function(n){return e.Escape.html(n[t])})},getAsURL:function(e){return this.attrAdded(e)?encodeURIComponent(n.get.apply(this,arguments)):s.map(this._items,function(t){return encodeURIComponent(t[e])})},indexOf:function(e){return s.indexOf(e&&e._isYUIModel?this._models:this._items,e)},reset:function(t,n){t||(t=[]),n||(n={});var r=e.merge({src:"reset"},n);return t=t._isYUIModelList?t.map(this._modelToObject):s.map(t,this._modelToObject),r.models=t,n.silent?this._defResetFn(r):(this.comparator&&t.sort(e.bind(this._sort,this)),this.fire(a,r)),this},revive:function(e){var t,n,r;if(e||e===0)return this._revive(i.isNumber(e)?e:this.indexOf(e));r=[];for(t=0,n=this._items.length;t<n;t++)r.push(this._revive(t));return r},toJSON:function(){return this.toArray()},_add:function(t,n){var r;n||(n={}),t=this._modelToObject(t),"clientId"in t||(t.clientId=this._generateClientId());if(this._isInList(t)){this.fire(u,{error:"Model is already in the list.",model:t,src:"add"});return}return r=e.merge(n,{index:"index"in n?n.index:this._findIndex(t),model:t}),n.silent?this._defAddFn(r):this.fire(o,r),t},_clear:function(){s.each(this._models,this._detachList,this),this._clientIdMap={},this._idMap={},this._items=[],this._models=[]},_generateClientId:function(){return r.lastId||(r.lastId=0),this.model.NAME+"_"+(r.lastId+=1)},_isInList:function(e){return!!("clientId"in e&&this._clientIdMap[e.clientId]||"id"in e&&this._idMap[e.id])},_modelToObject:function(e){return e._isYUIModel&&(e=e.getAttrs(),delete e.destroyed,delete e.initialized),e},_remove:function(t,n){return t._isYUIModel&&(t=this.indexOf(t)),e.ModelList.prototype._remove.call(this,t,n)},_revive:function(e){var t,n;return e<0?null:(t=this._items[e],t?(n=this._models[e],n||(n=new this.model(t),n._set("clientId",t.clientId),this._attachList(n),this._models[e]=n),n):null)},_afterModelChange:function(e){var t=e.changed,n=this._clientIdMap[e.target.get("clientId")],r;if(n)for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r].newVal)},_defAddFn:function(e){var t=e.model;this._clientIdMap[t.clientId]=t,i.isValue(t.id)&&(this._idMap[t.id]=t),this._items.splice(e.index,0,t)},_defRemoveFn:function(e){var t=e.index,n=e.model,r=this._models[t];delete this._clientIdMap[n.clientId],"id"in n&&delete this._idMap[n.id],r&&this._detachList(r),this._items.splice(t,1),this._models.splice(t,1)}})},"3.9.1",{requires:["model-list"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("model-sync-rest",function(e,t){function r(){}var n=e.Lang;r.CSRF_TOKEN=YUI.Env.CSRF_TOKEN,r.EMULATE_HTTP=!1,r.HTTP_HEADERS={Accept:"application/json","Content-Type":"application/json"},r.HTTP_METHODS={create:"POST",read:"GET",update:"PUT","delete":"DELETE"},r.HTTP_TIMEOUT=3e4,r._NON_ATTRS_CFG=["root","url"],r.prototype={root:"",url:"",initializer:function(e){e||(e={}),"root"in e&&(this.root=e.root||""),"url"in e&&(this.url=e.url||"")},getURL:function(t,n){var r=this.root,i=this.url;return this._isYUIModelList?i?this._substituteURL(i,e.merge(this.getAttrs(),n)):this.model.prototype.root:r&&(t==="create"||this.isNew())?r:i?this._substituteURL(i,e.merge(this.getAttrs(),n)):this._joinURL(this.getAsURL("id")||"")},parseIOResponse:function(e){return e.responseText},serialize:function(t){return e.JSON.stringify(this)},sync:function(t,n,i){n||(n={});var s=this.getURL(t,n),o=r.HTTP_METHODS[t],u=e.merge(r.HTTP_HEADERS,n.headers),a=n.timeout||r.HTTP_TIMEOUT,f=n.csrfToken||r.CSRF_TOKEN,l;o==="POST"||o==="PUT"?l=this.serialize(t):delete u["Content-Type"],r.EMULATE_HTTP&&(o==="PUT"||o==="DELETE")&&(u["X-HTTP-Method-Override"]=o,o="POST"),f&&(o==="POST"||o==="PUT"||o==="DELETE")&&(u["X-CSRF-Token"]=f),this._sendSyncIORequest({action:t,callback:i,entity:l,headers:u,method:o,timeout:a,url:s})},_joinURL:function(e){var t=this.root;return!t&&!e?"":(e.charAt(0)==="/"&&(e=e.substring(1)),t&&t.charAt(t.length-1)==="/"?t+e+"/":t+"/"+e)},_parse:function(e){return typeof this.parseIOResponse=="function"&&(e=this.parseIOResponse(e)),this.parse(e)},_sendSyncIORequest:function(t){return e.io(t.url,{arguments:{action:t.action,callback:t.callback,url:t.url},context:this,data:t.entity,headers:t.headers,method:t.method,timeout:t.timeout,on:{start:this._onSyncIOStart,failure:this._onSyncIOFailure,success:this._onSyncIOSuccess,end:this._onSyncIOEnd}})},_substituteURL:function(t,r){if(!t)return"";var i={};return e.Object.each(r,function(e,t){if(n.isString(e)||n.isNumber(e))i[t]=encodeURIComponent(e)}),n.sub(t,i)},_onSyncIOEnd:function(e,t){},_onSyncIOFailure:function(e,t,n){var r=n.callback;r&&r({code:t.status,msg:t.statusText},t)},_onSyncIOSuccess:function(e,t,n){var r=n.callback;r&&r(null,t)},_onSyncIOStart:function(e,t){}},e.namespace("ModelSync").REST=r},"3.9.1",{requires:["model","io-base","json-stringify"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("view-node-map",function(e,t){function i(){}var n=e.namespace("View._buildCfg"),r={};n.aggregates||(n.aggregates=[]),n.aggregates.push("getByNode"),i.getByNode=function(t){var n;return e.one(t).ancestor(function(t){return(n=r[e.stamp(t,!0)])||!1},!0),n||null},i._instances=r,i.prototype={initializer:function(){r[e.stamp(this.get("container"))]=this},destructor:function(){var t=e.stamp(this.get("container"),!0);t in r&&delete r[t]}},e.View.NodeMap=i},"3.9.1",{requires:["view"]});
/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
YUI.add("querystring-parse-simple",function(e,t){var n=e.namespace("QueryString");n.parse=function(e,t,r){t=t||"&",r=r||"=";for(var i={},s=0,o=e.split(t),u=o.length,a;s<u;s++)a=o[s].split(r),a.length>0&&(i[n.unescape(a.shift())]=n.unescape(a.join(r)));return i},n.unescape=function(e){return decodeURIComponent(e.replace(/\+/g," "))}},"3.9.1",{requires:["yui-base"]});
YUI.add("af-utils",function(e){"use strict";var t=e.Cookie,n=e.Lang,r=e.Array,i=e.Object,s=n.isObject,o=n.isArray,u=n.isString,a=n.trim,f=/^([\w!.%+\-])+@([\w\-])+(?:\.[\w\-]+)+$/,l=/((ftp|https?):\/\/)?(www\.)?[a-z0-9\-\.]+\.[a-z0-9\/]+$/,c={},h,p=e.Intl,d=e.config.win,v=null;e.namespace("Af").Utils={i18n:function(t){return p.get(t,null,e.config.lang)||{}},urlParseQuery:function(){var t=window.location.search;return t&&t.length>1?e.QueryString.parse(t.substring(1)):{}},urlParseBoolean:function(e){return e=e?e.toString().toLowerCase():"",e!==""&&e!=="null"&&e!=="undefined"&&e!=="0"&&e!=="false"&&e!=="no"},objectGetValue:function(e,t,n){u(t)&&(t=a(t),t=t===""?[]:t.split("."));var r=i.getValue(e,t);return r===undefined?n:r},objectSetValue:function(e,t,r){u(t)&&(t=a(t),t=t===""?[]:t.split("."));if(!o(t)||t.length===0)return undefined;var i,s=t.length,f=e;for(i=0;i<s;i++)i===s-1?f[t[i]]=r:(n.isUndefined(f[t[i]])&&(f[t[i]]={}),f=f[t[i]]);return e},objectEqual:function(t,n){var r=!1,u,a;if(t===n)return!0;if(typeof t!=typeof n)return!1;if(s(t))return i.size(t)!==i.size(n)?!1:(r=i.some(t,function(i,s){return!e.Af.Utils.objectEqual(t[s],n[s])}),!r);if(o(t)){if(t.length!==n.length)return!1;for(u=0,a=t.length;u<a;u++)if(!e.Af.Utils.objectEqual(t[u],n[u]))return!1;return!0}return!1},objectMerge:function(){var t=Array.prototype.slice.call(arguments),n={},r;for(r=0;r<t.length;r++)s(t[r])&&!o(t[r])&&e.mix(n,e.clone(t[r]),!0,undefined,0,!0);return n},stringParseKV:function(e,t,n){var i={};return e?(t=t||";",n=n||":",r.each(e.split(t),function(e){if(e.length>0){var t=e.indexOf(n),r=a(e.substring(0,t)),s=a(e.substring(t+1));r&&(i[r]=s)}}),i):i},noop:function(){},use:function(){var t=Array.prototype.slice.call(arguments,0),i=t[t.length-1];n.isFunction(i)?t.pop():i=v,n.isArray(t[0])&&(t=t[0]),c.mods=(c.mods||[]).concat(t),i&&(c.cbs=c.cbs||[],c.cbs.push(i)),h||(h=e.Af.Utils.throttle(function(){var t=r.dedupe(c.mods),n=c.cbs||[];c={},e.use(t,function(e){var t,r;for(t=0,r=n.length;t<r;t++)n[t].call(v,e)})},40,{leading:!1})),h()},userSignedIn:function(){return!!t.getSub("Y","n")&&!!t.getSub("Y","l")},urlValidate:function(e){return l.test(e)},emailValidate:function(e){return f.test(e)},screenTouchable:function(){var e=document.documentElement.className;return Modernizr&&Modernizr.touch||!(e&&e.indexOf("no-touch")>=0)},getObjectInArray:function(e,t,n){if(!e)return v;var r=e,i,s,o;s=r.length;for(i=0;i<s;i+=1){o=r[i];if(o.hasOwnProperty(t)&&o[t]===n)return{index:i,data:o}}return v},perfStart:function(t){d.Af=d.Af||{},d.Af.perf=d.Af.perf||{},d.Af.perf[e.id]=d.Af.perf[e.id]||{},d.Af.perf[e.id][t]={start:n.now()}},perfStop:function(t){var r=d.Af&&d.Af.perf&&d.Af.perf[e.id]&&d.Af.perf[e.id][t];r&&r.start&&(r.took=n.now()-r.start)},throttle:function(e,t,n){function a(){u=n.leading===!1?0:new Date,o=v,s=e.apply(r,i)}var r,i,s,o=v,u=0;return n=n||{},function(){var f=new Date,l;return!u&&n.leading===!1&&(u=f),l=t-(f-u),r=this,i=arguments,l<=0?(window.clearTimeout(o),o=v,u=f,s=e.apply(r,i)):!o&&n.trailing!==!1&&(o=window.setTimeout(a,l)),s}}}},"@VERSION@",{requires:["cookie","intl","oop","querystring-parse-simple"]});
;YUI.add("af-trans",function(e,t){"use strict";var n="App-loading",r="fade",i="0px",s="0.15",o=3e3;e.namespace("Af").Trans={loadWithTransition:function(t,n,r,i,s){var o=this,u;if(!t){e.Lang.isFunction(i)&&i("view is not passed");return}s=s||"",n=n||t.get("model");if(!n){e.Lang.isFunction(i)&&i("cannot find model");return}u=t.get("container");if(!u.inDoc()){i("view container is not in page");return}o.addTransition(u,s),n.load(r,function(t,n){o.removeTransition(u,s),e.Lang.isFunction(i)&&i(t,n)})},disappear:function(t,n,u){e.Lang.isFunction(u)||(u=e.Af.Utils.noop),n=n||r;if(!t){u("node is not defined");return}if(e.UA.ie&&e.UA.ie<9){u();return}switch(n){case r:t.transition({opacity:"0",duration:s},function(){try{t.transition({overflow:"hidden",height:i,margin:i,padding:i,border:i,easing:"ease-out",duration:s})}catch(e){}}),e.later(o,null,u);break;default:u()}},addTransition:function(e,t){t=t||r;switch(t){case r:e.addClass("SlowTrans"),setTimeout(function(){e.insertBefore('<i class="'+n+'"></i>',e),e.addClass("Op-33")},10);break;default:}},removeTransition:function(e,t){t=t||r;switch(t){case r:e.previous("."+n).remove(!0),e.removeClass("Op-33"),setTimeout(function(){e.removeClass("SlowTrans")},1e3);break;default:}}}},"@VERSION@",{requires:["node-base","transition","af-utils"]});
;YUI.add("af-applet-dom",function(e,t){"use strict";var n={applet:"js-applet",container:"js-applet-container",container_content:"js-applet-container-content",view_container_prefix:"js-applet-view-container-"},r={applet:"."+n.applet,container:"."+n.container,container_content:"."+n.container_content,view_container_prefix:"div."+n.view_container_prefix};e.namespace("Af").AppletDom={selectors:function(){return r},classes:function(){return n},all:function(t,n){t=e.one(t);if(!t)return;t.all(r.applet).each(function(e){n(e)})},getGuid:function(e){return e.getData("applet-guid")},getType:function(t){return e.Lang.isString(t)&&(t=this.getNode(t)),t?t.getData("applet-type"):null},getNode:function(t){return e.one('[data-applet-guid="'+t+'"]')},getLocation:function(t){var n=this.getNode(t),i,s,o;return n?(i=n.ancestor(r.container,!0),s=i?i.getData("applet-container-guid"):"page",i||(i=e),o=i.all(r.applet).indexOf(n),o<0?{}:{container:s,index:o}):{}},getContainerGuid:function(e){return e.getData("applet-container-guid")},getContainerNode:function(t){return e.one('[data-applet-container-guid="'+t+'"]')},getContainerContentNode:function(e){return e.one(r.container_content)||e},getViewContainerNode:function(e,t){return this.getNode(e).one(r.view_container_prefix+t)},getLayout:function(){var t={};return e.all(r.container).each(function(e){var n=this.getContainerGuid(e);t[n]=[],e.all(r.applet).each(function(e){var r=this.getGuid(e);r&&t[n].push(r)},this)},this),t},remove:function(t,n){var r=this.getNode(t);if(!r)return n&&n("non-exist applet node: "+t);e.Af.Trans.disappear(r,"fade",function(){return r.purge(!0).remove(),n&&n()})},move:function(e,t,n){var r=this.getNode(e),i,s,o,u,a=this.getContainerNode(n.container),f=this.getContainerContentNode(a);return r?!a||!f?!1:(u=this.selectors(),i=a.all(u.applet),s=i.size(),typeof n.index=="undefined"?f.append(r):n.index===0?f.prepend(r):(o=i.item(n.index),o?o.insert(r,"before"):f.append(r)),!0):!1},getGuidAt:function(e,t){var n=this.getContainerNode(e),i;return n?(i=n.all(r.applet).item(t),i?this.getGuid(i):null):null}}},"@VERSION@",{requires:["node-core","af-trans"]});
;YUI.add("af-applet-action",function(e){"use strict";function n(){}var t=".js-applet-action";n.prototype={name:"applet.action",execute:function(e,t,n){t.action==="page.init"&&this.attachListeners(e),n()},attachListeners:function(n){function o(r){r.preventDefault();var i=r.target.ancestor(t,!0),s,o,u;if(!i)return;s=i.getData("applet-action");if(!s)return;o={action:s,params:e.Af.Utils.stringParseKV(i.getData("applet-actioncfg"))||{}},o.params.guid||(u=i.ancestor(".js-applet"),u&&(o.params.guid=e.Af.AppletDom.getGuid(u))),n.execControllers(o)}var r=e.one("body"),i="a"+t+", button"+t,s="select"+t;r.delegate("click",o,i,this),e.UA.ie&&e.UA.ie<9?r.delegate(["click","keydown","keyup"],function(t){if(t.keyCode&&t.keyCode>=16&&t.keyCode<=20)return;var n=t.target,r=t.type==="keyup"&&t.keyCode===9,i=t.type==="keydown"&&t.keyCode===9,s="previous",u,a;if(r||t.type==="click"||t.type==="keydown")n.hasAttribute(s)||n.setAttribute(s,n.get("value"));if(i||t.type==="click"||t.type==="keyup")u=n.getAttribute(s),a=n.get("value"),u!==a&&(n.setAttribute(s,a),o(t))},s,this):r.delegate("change",o,s,this)}},e.namespace("Af").AppletAction=n},"@VERSION@",{requires:["af-applet-dom","af-utils","node-event-delegate","node-base"]});
;YUI.add("af-bootstrap",function(e){"use strict";function l(){return f.Af&&f.Af.bootstrap||YUI.Env.Af&&YUI.Env.Af.bootstrap}function c(t){if(!t)return null;var n=t.split(".");return n[0]==="Y"&&n.shift(),a(e,n)}function h(e){var t=l();return t&&t[e]||{}}var t=e.Object,n=e.Af.Utils,r=e.Lang,i=e.Array,s=n.perfStart,o=n.perfStop,u=0,a=n.objectGetValue,f=e.config.win;e.namespace("Af").Bootstrap={_getYUIModules:function(e){var n=[];return e&&i.each(["models","views","templates"],function(r){t.each(e[r],function(e){e.yui_module&&n.push(e.yui_module)})}),n},find:function(t){var n=null;return e.Object.each(l(),function(e,r){t(r,e)&&(n=n||{},n[r]=e)}),n},load:function(a,f,c){c=c||n.noop;if(!a)return c();r.isString(a)&&(a=[a]);var h=f&&f.extraMods||[],p=l(),d;p&&t.size(p)&&(i.each(a,function(e){var t=p[e];h=h.concat(this._getYUIModules(t))},this),h=i.dedupe(h));if(h.length===0)return c();d="bsload:yuiuse-"+ ++u+":"+h.length,s(d);if(f&&f.batch){n.use(h,function(){o(d),c()});return}e.use(h,function(){o(d),c()})},createModel:function(t,n){var r=this.getModelMeta(t,n),i=c(r.yui_class),s,o=r.config,u=r.data;return i&&(i.prototype._isYUIModel?s=new i(e.merge(o,u)):i.prototype._isYUIModelList?s=new i(e.merge(o,{items:u||[]})):(s=new i(o),u&&(s.setAttrs?s.setAttrs(u,{silent:!0}):s.reset&&s.reset(u,{silent:!0})))),s},getMeta:function(e){return h(e)},hasMeta:function(e){var n=l();return n&&t.owns(n,e)},getModelMeta:function(e,t){var n=h(e);return n.models&&n.models[t]||{}},getModelClass:function(e,t){var n=this.getModelMeta(e,t);return c(n.yui_class)},getModelData:function(e,t){var n=this.getModelMeta(e,t);return n.data},getViewMeta:function(e,t){var n=h(e);return n.views&&n.views[t]||{}},getViewClass:function(e,t){var n=this.getViewMeta(e,t);return c(n.yui_class)},getTemplateName:function(e,t){var n=h(e);return n.templates&&n.templates[t]&&n.templates[t].template_name||null}}},"@VERSION@",{requires:["af-utils"]});
;YUI.add("af-config",function(e){"use strict";function c(){if(l)return;u=e.merge(s.Af&&s.Af.settings&&s.Af.settings.context,i.Af&&i.Af.context),a=e.Array.dedupe(r.concat(e.Object.keys(u))),f=e.merge(u,t.urlParseQuery()),o=e.merge({},s.Af&&s.Af.settings,i.Af&&i.Af.config),l=!0}var t=e.Af.Utils,n="context",r=["bucket","crumb","ssl","site","lang","region","intl","partner"],i=e.config.win,s=YUI.Env,o,u,a,f,l;e.namespace("Af").Config={contextKeys:function(){return c(),a},get:function(r,i){var s;return c(),r===n?s=e.merge(f):r.indexOf(n+".")===0?s=t.objectGetValue(f,r.substring(8)):s=t.objectGetValue(o,r),e.Lang.isValue(s)?s:i},getContext:function(e,t){return this.get(n+"."+e,t)},_host:window.location.host,isDev:function(){var e=this.getContext("env");return!e||e!=="dev"&&e!=="corp"&&e!=="development"?!!this._host&&this._host.indexOf(".corp.")>0:!0},isFeatureOn:function(e,n){if(!e)return!1;var r=this.getContext("enable_"+e,n);return t.urlParseBoolean(r)}}},"@VERSION@",{requires:["af-utils"]});
;YUI.add("af-beacon",function(e,t){"use strict";function x(e,t){return Math.floor(Math.random()*(t-e+1))+e}function T(e,t,n){if(!e||!t||!n)return!1;var r=e+":"+t+":"+n;return v[r]?!0:(v[r]=!0,!1)}function N(e){return e=parseInt(e,10),!isNaN(e)&&e!==S&&(e>0?d=e===1||x(1,e)===1:d=!1,S=e),d}function C(t){return g=setInterval(function(){e.Af.Beacon._sendBatch()},t*1e3),g}function k(){clearTimeout(g),e.Af.Beacon._sendBatch()}function L(){if(y||!e.Af.Beacon.beaconPageLoadPerf)return;y=!0;var n,r,i,s=u.performance||u.webkitPerformance||u.msPerformance||u.mozPerformance||u.Performance||{},o={},a,f;s&&s.timing&&s.navigation?(a=s.navigation,f=s.timing,n=f.navigationStart,o={navT:a.type,navS:n,fetS:f.fetchStart-n,dluS:f.domainLookupStart-n,dluE:f.domainLookupEnd-n,conS:f.connectStart-n,conE:f.connectEnd-n,reqS:f.requestStart-n,resS:f.responseStart-n,resE:f.responseEnd-n,domL:f.domLoading-n,domI:f.domInteractive-n,domS:f.domContentLoadedEventStart-n,domE:f.domContentLoadedEventEnd-n,domC:f.domComplete-n,lodS:f.loadEventStart-n,lodE:f.loadEventEnd-n},f.linkNegotiationStart&&f.linkNegotiationEnd&&(o.lnkS=f.linkNegotiationStart-n,o.lnkE=f.linkNegotiationEnd-n),f.unloadEventStart&&(o.uldS=f.unloadEventStart-n,o.uldE=f.unloadEventEnd-n),f.redirectStart&&(o.redC=a.redirectCount,o.redS=f.redirectStart-n,o.redE=f.redirectEnd-n),typeof f.secureConnectionStart=="number"&&(o.secS=f.secureConnectionStart>0?Math.max(1,f.secureConnectionStart-n):0)):(n=u.afPerfHeadStart,r=u.afPerfPageEnd,i=u.afPerfPageLoad,n&&i&&(o.lodE=i-n),n&&r&&(o.pagE=r-n));if(!o.lodE)return;o.code="pageload",o.time=o.lodE,e.Af.Beacon.perf(t,o)}function A(){L(),k(),u.removeEventListener("unload",A,!1)}function O(){u.addEventListener("load",L,!1),u.addEventListener("unload",A,!1)}var n=300,r=999,i="[object String]",s="[object Error]",o="[object Object]",u=window,a={once:!1},f={beaconUncaughtErr:!1,beaconPageLoadPerf:!1,pathPrefix:"/_td_api/beacon",sampleSize:1,batch:!0,batchInterval:5},l=["rid","bucket","device","site"],c=["ActionScript","Decompress fail"],h=["^resource://"],p,d,v={},m=[],g,y=!1,b=e.merge(f,YUI.Env.Af&&YUI.Env.Af.settings&&YUI.Env.Af.settings.beacon,u.Af&&u.Af.config&&u.Af.config.beacon),w=e.merge(YUI.Env.Af&&YUI.Env.Af.settings&&YUI.Env.Af.settings.context,u.Af&&u.Af.context),E={os:e.UA&&e.UA.os},S;N(b.sampleSize),e.Array.each(l,function(e){w[e]&&(E[e]=w[e])}),E=e.merge(E,b.meta||{}),e.namespace("Af").Beacon={enable_beaconrterr:b.beaconUncaughtErr,beaconPageLoadPerf:b.beaconPageLoadPerf,enable_batching:b.batch,batch_interval:b.batchInterval,meta:E,pathPrefix:b.pathPrefix,setSampleSize:N,send:function(t,n,r){function o(e,t){e&&!s&&(s=!0,e(t))}if(!t){r&&r("invalid beacon path");return}var i=new Image,s;i.onerror=function(e){var t=e instanceof Error?e.toString():e;o(r,t)},i.onload=function(){o(r)};try{n&&e.Object.size(n)&&(n._rdn=(new Date).getTime().toString().substr(7),t+="?"+e.QueryString.stringify(n)),i.src=t,r&&setTimeout(function(){o(r,"aborted")},4e3);return}catch(u){o(r,"path failed")}},_enqueue:function(e,t,n){m.push({beacon:{type:e,data:t},cb:n})},_dequeueAll:function(){return m.splice(0,m.length)},_sendBatch:function(){function t(e,t){var n,r=e.length;for(n=0;n<r;n++)e[n]&&e[n].cb&&e[n].cb(t);return}if(m.length===0)return;var n=this._dequeueAll(),r=this.pathPrefix+"/batch",i;try{i={method:"POST",timeout:4e3,data:e.JSON.stringify(n),headers:{"Content-Type":"application/json"},on:{success:function(e){t(n)},failure:function(e,r){t(n,r.status+":"+r.statusText)}}},e.io(r,i)}catch(s){t(n,"path failed")}},xhr:function(t,n,r){if(!t){r&&r("invalid xhr path");return}var i;n=n||{},i={method:"GET",timeout:n.timeout||2e3,headers:n.headers||{},on:{success:function(e,t){r&&r({statusCode:t.status})},failure:function(e,t){r&&r({statusCode:t.status,statusText:t.statusText,respText:t.responseText})}}};try{t+="?"+e.QueryString.stringify(n.query),e.io(t,i)}catch(s){r&&r("querystring stringify failed")}},error:function(t,u,f,l){l=e.merge(a,l);var c=l.callback;if(!f){c&&c("missing error");return}if(!d||this._shouldIgnoreError(f)||l.once===!0&&f.code&&T("error",t,f.code)){c&&c();return}var h,p=Object.prototype.toString.call(f);if(f){switch(p){case i:h={code:r,message:f};break;case s:h={code:f.code||f.name||r,message:f.message,line:f.lineNumber||"",file:f.fileName||""};break;case o:h=f;break;default:try{h={code:r,message:e.JSON.stringify(f)}}catch(v){}}h.message=h.message&&h.message.substring(0,n)||""}this._send("error",t,e.merge(this.meta,u,h),c)},info:function(t,n,r){r=e.merge(a,r);var i=r.callback;if(!n||!n.code){i&&i("missing data.code");return}if(!d||r.once===!0&&T("info",t,n.code)){i&&i();return}this._send("info",t,e.merge(this.meta,n),i)},perf:function(t,n,r){r=e.merge(a,r);var i=r.callback;if(!n||!n.code||!e.Object.owns(n,"time")){i&&i("missing data.code or data.time");return}if(!d||r.once===!0&&T("perf",t,n.code)){i&&i();return}this._send("perf",t,e.merge(this.meta,n),i)},ignoreError:function(e){e&&c.push(e)},ignoreURL:function(e){e&&h.push(e)},_shouldIgnoreError:function(e){if(!e)return!0;var t,n,r;typeof e=="string"?r=e:r=e.message;if(!r)return!1;for(t=0,n=c.length;t<n;t++)if(r.match(c[t]))return!0;return!1},_shouldIgnoreURL:function(e){if(!e)return!1;var t,n;for(t=0,n=h.length;t<n;t++)if(e.match(h[t]))return!0;return!1},_send:function(e,t,n,r){var i=this.pathPrefix;if(!i||!e||!n)return;t&&(n.src=t),this.enable_batching?this._enqueue(e,n,r):this.send(i+"/"+e,n,r)}},p=u.onerror,u.onerror=function(r,i,s){var o=e.Af.Beacon,u;try{o.enable_beaconrterr&&!o._shouldIgnoreURL(i)&&(u={code:r.name,message:r.message,url:i&&i.substring(0,n),line:r.lineNumber||s||"",file:r.fileName||""},o.error("rt",{},u))}catch(a){}return typeof p=="function"?p(r,i,s):!1},e.Af.Beacon.enable_batching&&C(e.Af.Beacon.batch_interval),u.addEventListener?(u.addEventListener("pageshow",O,!1),O()):u.attachEvent&&(u.attachEvent("onload",L),u.attachEvent("onunload",L),u.attachEvent("onunload",k))},"@VERSION@",{requires:["json-stringify","querystring-stringify-simple","io-base"
]});
;YUI.add("mjata-queue",function(e){"use strict";function n(n,r,i,s){this.id=n,this.config=e.merge(t,r),this._sweep=i,this._cb=s,this._items=[],this._timer=null}var t={wait:20};n.prototype={push:function(t){if(!t)return this;if(this.config.wait<=0)return this._cb(t),this._items=[],this;var n=this;return this._items.push(t),this._timer||(this._timer=setTimeout(function(){var t=n._items;n._items=[],clearTimeout(n._timer),n._timer=null,t=n._sweep(t),e.Array.each(t,function(e){n._cb(e)})},this.config.wait)),this}},e.namespace("Mjata").Queue=n},"@VERSION@");
;YUI.add("mjata-util",function(e){"use strict";var t=e.Lang,n=e.Object,r=t.trim;e.namespace("Mjata").Util={objEqual:function(r,i){var s=!1,o,u;if(r===i)return!0;if(typeof r!=typeof i)return!1;if(t.isObject(r))return n.size(r)!==n.size(i)?!1:(s=n.some(r,function(n,s){return!e.Mjata.Util.objEqual(r[s],i[s])}),!s);if(t.isArray(r)){if(r.length!==i.length)return!1;for(o=0,u=r.length;o<u;o++)if(!e.Mjata.Util.objEqual(r[o],i[o]))return!1;return!0}return!1},objGet:function(e,r,i){t.isString(r)&&(r=t.trim(r),r=r===""?[]:r.split("."));var s=n.getValue(e,r);return s===undefined?i:s},objMerge:function(){var n=Array.prototype.slice.call(arguments),r={},i;for(i=0;i<n.length;i++)t.isObject(n[i])&&!t.isArray(n[i])&&e.mix(r,e.clone(n[i]),!0,undefined,0,!0);return r},objSet:function(e,n,r){t.isString(n)&&(n=t.trim(n),n=n===""?[]:n.split("."));if(!t.isArray(n)||n.length===0)return undefined;var i,s=n.length,o=e;for(i=0;i<s;i++)i===s-1?o[n[i]]=r:(t.isUndefined(o[n[i]])&&(o[n[i]]={}),o=o[n[i]]);return e},strParseKV:function(t,n,i){var s={};return t=t||"",n=n||";",i=i||":",e.Array.each(t.split(n),function(e){if(e.length>0){var t=e.indexOf(i),n=r(e.substring(0,t)),o=r(e.substring(t+1));n&&(s[n]=o)}}),s}}},"@VERSION@");
;YUI.add("mjata-store",function(e){"use strict";var t=" not implemented",n=e.Lang.isFunction;e.namespace("Mjata").Store={name:"Store.Base",create:function(e,t,n,r,i){this._sync(e,"create",t,n,r,i)},read:function(e,t,n,r){this._sync(e,"read",t,undefined,n,r)},update:function(e,t,n,r,i){this._sync(e,"update",t,n,r,i)},del:function(e,t,n,r){this._sync(e,"delete",t,undefined,n,r)},_sync:function(t,r,i,s,o,u){n(o)&&(u=o,o={}),o=o||{};var a=this,f={resource:t,operation:r,params:i,body:s,context:o,callback:u};if(!n(this.batch)||o.config&&o.config.consolidate===!1){this.single(f);return}this._q||(this._q=new e.Mjata.Queue(this.name,{},function(e){return a.batch(e)},function(t){if(!t)return;e.Lang.isArray(t)?a.multi(t):a.single(t)})),this._q.push(f)},single:function(){throw"single()"+t},multi:function(){throw"multi()"+t},batch:function(e){return e}},e.Mjata.createStore=function(t,n,r){if(!t)throw"Invalid name";return e.merge(e.Mjata.Store,r,{name:t})}},"@VERSION@",{requires:["mjata-queue","mjata-util"]});
;YUI.add("mjata-rest-http",function(e){"use strict";function a(t){var r={};return e.Object.each(t,function(e,t){t.toLowerCase()==="content-type"?r[n]=e:r[t]=e}),r}function f(t){return e.Array.some(t[n].split(";"),function(e){return o.trim(e).toLowerCase()===r})}function l(e,t){return t!==408&&t!==999||e.tmp.retry_counter>=e.retry.max_retries?!1:(e.tmp.retry_counter++,e.retry.interval=e.retry.interval*2,!0)}function c(e){return e=e||{status:999,statusText:"null response"},e.status===0&&e.statusText===i&&(e.status=408,e.timeoutBy="client"),e}function h(e,t){var n={statusCode:e.status,statusText:e.statusText,responseText:e.responseText};return n.statusCode===408&&(n.timeoutBy=e.timeoutBy||"",n.timeout=t||""),n}function p(e){var n={timeout:t.timeout,retry:{interval:t.retry.interval,max_retries:t.retry.max_retries}},r,i,s;return e&&(r=parseInt(e.timeout,10),u(r)&&r>0&&(n.timeout=r),e.retry&&(i=parseInt(e.retry&&e.retry.interval,10),u(i)&&i>0&&(n.retry.interval=i),s=parseInt(e.retry&&e.retry.max_retries,10),u(s)&&s>=0&&(n.retry.max_retries=s)),e.tmp&&(n.tmp=e.tmp)),n}function d(t,n,r,i){var o,u;r=p(r),r.tmp=r.tmp||{retry_counter:0},u=r.timeout,o={method:"GET",timeout:u,headers:n,on:{success:function(e,t){i(s,t)},failure:function(o,a){a=c(a),l(r,a.status)?e.later(r.retry.interval,s,function(){d(t,n,r,i)}):i(h(a,u))}}},e.io(t,o)}function v(t,i,o,u,l,d){l=p(l),o=a(o),o[n]=o[n]||r;var v={method:t,timeout:l.timeout,headers:o,on:{success:function(e,t){d(s,t)},failure:function(e,t){t=c(t),d(h(t,l.timeout))}}};u!==undefined&&u!==s&&(v.data=f(o)?e.JSON.stringify(u):u),e.io(i,v)}var t={timeout:3e3,retry:{interval:200,max_retries:2}},n="Content-Type",r="application/json",i="timeout",s=null,o=e.Lang,u=o.isNumber;e.namespace("Mjata.REST").HTTP={get:function(e,t,n,r){d(e,t,n,r)},put:function(e,t,n,r,i){v("PUT",e,t,n,r,i)},post:function(e,t,n,r,i){v("POST",e,t,n,r,i)},del:function(e,t,n,r){v("DELETE",e,t,undefined,n,r)}}},"@VERSION@",{requires:["json-stringify","io-base"]});
;YUI.add("tdapi-remotestore",function(e,t){"use strict";function d(e){if(e&&e.responseText)try{return l.parse(e.responseText)}catch(t){return null}return null}function v(e){return f.isArray(e)||f.isObject(e)?l.stringify(e):e}function m(e,t){var n=[],r=e;return u.each(t.context,function(e,t){n.push(t+"="+encodeURIComponent(e))}),n.length>0&&(r+="?"+n.sort().join("&")),r}var n=["resource","operation","params","body"],r="g0",i="/_td_api",s=2048,o,u=e.Object,a=e.Array,f=e.Lang,l=e.JSON,c=e.Mjata,h=c.REST.HTTP,p=e.Af.Utils;o={_constructGetUri:function(e,t,n,r){var i=[],s=[],o=r.config.id_param,a,f=e+"/resource/"+t;return u.each(n,function(e,t){if(t===o)a=encodeURIComponent(e);else try{s.push(t+"="+encodeURIComponent(v(e)))}catch(n){}}),u.each(r.context,function(e,t){(t!=="crumb"||r.config.crumbForGET)&&i.push(t+"="+encodeURIComponent(v(e)))}),a&&(f+="/"+o+"/"+a),s.length>0&&(f+=";"+s.sort().join(";")),i.length>0&&(f+="?"+i.sort().join("&")),f},batch:function(e){if(!f.isArray(e)||e.length<=1)return e;var t,n={};return a.each(e,function(e){var t,r,i;e.context&&e.context.config&&(t=e.context.config.uri||e.context.config.xhr||"",r=e.context.config.batch),i="uri:"+t,r&&(i+=";batch:"+r),n[i]||(n[i]=[]),n[i].push(e)}),t=u.values(n),t.length<e.length,t},single:function(t){if(!t)return;var o=t.context,u=t.callback||p.noop,a,f=o.config&&(o.config.uri||o.config.xhr)||i,l,c,v;if("read"!==t.operation&&(!o.context||!o.context.crumb))return u({statusCode:400,statusText:"missing crumb"});a=t.operation!=="read"||o.config.post_for_read,a||(l=this._constructGetUri(f,t.resource,t.params,o),l.length<=s?f=l:a=!0);if(!a){h.get(f,{},o.config,function(e,t){if(e)return u(e);u(null,d(t))});return}c={},c[r]=e.mix({},t,!0,n),t.body||delete c[r].body,v={requests:c,context:o.context},f=m(f,o),h.post(f,{},v,o.config,function(e,t){if(e)return u(e);var n=d(t);n?n=n[r]||{}:n={},u(n.err,n.data)})},multi:function(t){var r,s,o=0,f,l={};a.some(t,function(e){return e.context&&e.context.context&&e.context.context.crumb?(f=e.context,!0):!1},this);if(!f||!f.context.crumb){a.each(t,function(e){e.callback({statusCode:400,statusText:"missing crumb"})});return}r=f.config&&(f.config.uri||f.config.xhr)||i,s={requests:{},context:f.context},a.each(t,function(t){var r="g"+o++;s.requests[r]=e.mix({},t,!0,n),l[r]=t}),r=m(r,f),h.post(r,{},s,f.config,function(e,n){if(e){a.each(t,function(t){t.callback(e)});return}var r=d(n);u.each(r,function(e,t){var n=l[t];n&&(e=e||{},n.callback(e.err,e.data))})})}},e.namespace("TDAPI").RemoteStore=c.createStore("Store.TDAPI",{},o)},"@VERSION@",{requires:["mjata-store","mjata-rest-http"]});
;YUI.add("af-transport",function(e,t){"use strict";function o(t){var i=r.get("context"),s={config:r.get("transport"),context:{}};return i&&e.Array.forEach(r.contextKeys(),function(e){Object.prototype.hasOwnProperty.call(i,e)&&(s.context[e]=i[e])}),n.Utils.objectMerge(s,t)}function u(r,i,s,o){return function(u,a){if(u){var f="",l={code:u.code||u.statusCode,message:u.message||u.statusText};u.timeout&&(l.timeout=u.timeout),u.timeoutBy&&(l.timeoutBy=u.timeoutBy);try{f=e.JSON.stringify(s)}catch(c){}n.Beacon.error(t,{resource:r,operation:i,params:f},l)}return o&&o(u,a)}}var n=e.Af,r=n.Config,i=e.TDAPI.RemoteStore,s=e.Lang.isFunction;e.namespace("Af").Transport={create:function(e,t,n,r,a){s(r)&&(a=r,r={}),i.create(e,t,n,o(r),u(e,"create",t,a))},read:function(e,t,n,r){s(n)&&(r=n,n={}),i.read(e,t,o(n),u(e,"read",t,r))},update:function(e,t,n,r,a){s(r)&&(a=r,r={}),i.update(e,t,n,o(r),u(e,"update",t,a))},del:function(e,t,n,r){s(n)&&(r=n,n={}),i.del(e,t,o(n),u(e,"delete",t,r))}},e.Af.Transport["delete"]=e.Af.Transport.del},"@VERSION@",{requires:["af-beacon","af-config","af-utils","json-stringify","tdapi-remotestore"]});
;YUI.add("af-sync",function(e){"use strict";function r(){}var t=e.Af.Transport,n=e.Object.owns;r._NON_ATTRS_CFG=["resource","readonly","consolidate","syncContext","postForRead","crumbForGET"],r.prototype={resource:"",consolidate:!0,readonly:!1,syncContext:{},postForRead:!1,crumbForGET:!0,initializer:function(e){e=e||{},n(e,"resource")&&(this.resource=e.resource||"")},sync:function(r,i,s){var o,u={},a,f,l,c,h=this;if(h.readonly&&r!=="read")return s("Read-only");i&&!n(i,"resource")&&!n(i,"params")&&!n(i,"context")&&(i={params:i}),o=i.resource||h.resource,f=e.Af.Utils.objectMerge({config:{consolidate:!!h.consolidate,post_for_read:h.postForRead,crumbForGET:h.crumbForGET}},h.syncContext,i.context),f.config.id_param=l=h.idAttribute||"id",c=h.get(h.idAttribute||"id"),c&&(u[l]=c),u=e.merge(u,i.params);switch(r){case"create":case"update":a=i.body||h.toJSON(),t[r](o,u,a,f,s);return;case"read":case"delete":t[r](o,u,f,s);return;default:s("Invalid action")}}},e.namespace("Af").Sync=r},"@VERSION@",{requires:["af-transport","af-utils"]});
;YUI.add("mjata-json",function(e,t){"use strict";function o(t){var n;return t?t._isYUIModel||t._isYUIModelList?t.toJSON():i(t)?(n=[],e.each(t,function(t){n.push(o(t))}),n):s(t)?(n={},e.each(t,function(t,i){if(!r(i))return;n[i]=o(t)}),n):t:t}function u(){}var n=e.Lang,r=n.isString,i=n.isArray,s=n.isObject;u.prototype={toJSON:function(e){var t,n;return i(e)?t=e:r(e)&&(t=[e]),n=this.getAttrs(t),delete n.clientId,delete n.destroyed,delete n.initialized,this.idAttribute!=="id"&&delete n.id,o(n)}},e.namespace("Mjata").JSON=u},"@VERSION@");
;YUI.add("af-applet-model",function(e){"use strict";var t=e.Af.Bootstrap,n=e.Af.Config,r=e.Af.Utils,i=e.Lang,s="context",o="data",u="guid",a="settings",f=r.perfStart,l=r.perfStop,c=n.get(s),h=n.get("transport");e.namespace("Af").AppletModel=e.Base.create("AfAppletModel",e.Model,[e.Mjata.JSON,e.Af.Sync],{idAttribute:u,settingsOpts:{critical:!1},settingsResource:"applet.settings",initializer:function(){var n=t.getMeta(this.get(u))||{},a={},p={silent:!0},d=this.get("type"),v,m={},g=e.merge(c,n.context);this.set(s,g,{silent:!0}),this.syncContext={config:e.merge(h,n.transport),context:{}},g.crumb&&(this.syncContext.context.crumb=g.crumb),g.locdrop_crumb&&(this.syncContext.context.locdrop_crumb=g.locdrop_crumb),n.applet_type&&(m.applet_type=n.applet_type),n.i13n&&(m.i13n=n.i13n),n.i18n=e.merge(r.i18n("ape-applet/strings"),n.i18n),m.i18n=n.i18n,m.intl={locales:g.lang,messages:n.i18n},n.models&&(a=n.models.applet_model||{}),e.each(["config","data","state"],function(e){a[e]&&(m[e]=a[e])});if(a.settings||a.user_settings)m.settings=a.settings||a.user_settings;this.setAttrs(m,p),a.models&&(v=d+":aptCreateDataModels",f(v),e.Array.each(a.models,function(e){var n=t.createModel(this.get(u),e),r=this.get(o);n&&r&&(i.isObject(r[e])&&n.setAttrs(r[e],p),this.addDataModel(e,n))},this),l(v)),this.settingsResource="settings."+(m.applet_type||d)},addDataModel:function(t,n){if(!n)return;this.get(o)[t]=n;if(!n._isYUIModel&&!n._isYUIModelList)return;n.syncContext=this.syncContext,n.after(["*:change","reset","add","remove"],function(n){var r=e.merge(this.get(o));this.set(o,r,{submodel_evt:n})},this)},getDataModel:function(e){return this.get(o)[e]},loadDataModel:function(t,n,r){var i=this,s;n=e.merge({resource:t},n),s={context:e.merge(i.syncContext.context,n.context&&n.context.context),config:e.merge(i.syncContext.config,n.context&&n.context.config)},e.Af.Transport.read(n.resource,n.params,s,function(e,n){return!e&&n&&i.set(o+"."+t,n),r&&r(e,n)})},setConfig:function(e,t){this.set("config."+e,t)},getSettings:function(){return this.get(a)},saveSettings:function(t,n,i){var s,o=this.get(a),f=this,l;e.Lang.isFunction(n)&&(i=n,n=null),i=i||r.noop,t=e.merge(o,t),n=e.merge(this.settingsOpts,n),n.critical===undefined&&(n.critical=this.settingsOpts.critical);if(r.objectEqual(o,t)){i(null,t);return}s={resource:this.settingsResource,params:{guid:this.get(u)},body:t},l=r.userSignedIn();if(!n.critical){this.set(a,t),i(null,t),l&&this.save(s);return}if(!l){i("ERR_AUTH");return}this.save(s,function(e){if(e){i("ERR_SAVE_SETTINGS");return}f.set(a,t),i(null,t)})}},{ATTRS:{guid:{},type:{},config:{value:{}},settings:{},user_settings:{getter:function(){return this.get(a)}},context:{value:{}},state:{value:{}},data:{value:{}}}})},"@VERSION@",{langBundles:["strings"],requires:["af-bootstrap","af-config","af-sync","base-build","mjata-json","model"]});
;